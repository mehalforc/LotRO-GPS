-- Detect locale (example: from environment or game API)
local locale = os.setlocale(nil) or "en_US"

-- Normalize locale (optional: strip encoding, region, etc.)
locale = locale:match("^[^%.]+")  -- e.g. "en_US.UTF-8" → "en_US"

-- Build filename based on locale
local filename = "locales/" .. locale .. ".lua"

-- Fallback if file doesn’t exist
local function safeLoad(file)
    local ok, result = pcall(dofile, file)
    if not ok then
        print("Locale file not found: " .. file .. ", falling back to default.")
        result = dofile("locales/en_US.lua")
    end
    return result
end

-- Load the locale-specific file
local translations = safeLoad(filename)

-- Example usage
print(translations["HELLO"])

